{% extends "Index.html" %}

{% block content  %}
<div class="container">
    <div class="page-header">
        <h1 class="text-center">JSON
            <small>список документов</small><button type="button" id='create' class="btn btn-small">Создать новый</button>
        </h1>
    </div>
</div>
<div class="container">
    <div class="row">


        <div class="text-center">

            <form>
                <div class="form-group">

                    <p class="text-center"><textarea rows="10" id='edit' cols="45" name="text">{{JsonDoc}}</textarea></p>
                </div>
                <button type="button" id='editbutton' class="btn btn-small">Редактировать</button>

            </form>
        </div>
        <hr>

    </div>
    <div id="light-pagination" class="pagination"></div>



</div>
{% endblock %}

{% block skript1 %}

!--<script type="text/javascript"> -->

request(1)



function request(page) {

$.when( $.ajax('http://jsondoc/Json/.json?page=' + page) ).then(function(result){
console.log(JSON.stringify(result));
console.log(result)

//paginator('updateItems',result.items.properties.pagination.required[0].total)
//paginator.itemsOnPage=result.items.properties.pagination.required[0].perPage
    $('#light-pagination').pagination({
        items: result.items.properties.pagination.required[0].total,
        itemsOnPage: result.items.properties.pagination.required[0].perPage,
        cssStyle: 'light-theme'
    });

    });

}



{% endblock %}